<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>图片上传</title>
<script src="/resources/js/jquery-3.5.1.js" ></script>
<script>
$(function() {
	$("#btn").on("click", function(){
		btnClick();
	});
})

function btnClick(){
	//$("#form").submit();

	$.ajax({
		type: "post",
		url: "http://localhost:8080/upload",
		data: new FormData($('#form')[0]), //$("#form").serialize()
		//dataType: "json", // 指定后台传过来的数据是json格式
		processData: false,
		contentType: false,
		cache: false,
		success: function(data){
			alert(data);
		},
		error: function(err){
			alert("数据异常！");
		}
	})
}
</script>
</head>
<body>
<form id="form" action="http://localhost:8080/upload" method="post" enctype="multipart/form-data">
	<div style="margin-top:20px">
		<input type="file" name="file" /><br/>
	</div>
	<div style="margin-top:20px">
		id:<input id="id" name="id" value="43614484252311" /><br/><!--加disabled，不往后台传值-->
	</div>
	<div style="margin-top:20px">
		<!--<input type="submit" value="提交" />-->
		<button type="button" id="btn">提交</button>
	</div>
</form>
</body>
</html>




